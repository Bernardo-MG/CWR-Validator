<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validation results</title>
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='bootstrap/css/bootstrap.min.css') }}">
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/style.css') }}">
    <script
	  src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="{{ url_for('static', filename='bootstrap/js/bootstrap.min.js') }}"></script>
  </head>
  <body>
    <div id="wrapper" class="container">
        <div id="header">
			<div class="page-header">
	            <h1>Validator <small>CWR document validator</small></h1>
            </div>
		</div>
		<div id="header_menu">
            <div class="navbar navbar-inverse" role="navigation">
	            <div class="navbar-header">
		            <button type="button" class="navbar-toggle" data-toggle="collapse"
			            data-target="#bs-example-navbar-collapse-1">
			            <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span>
			            <span class="icon-bar"></span> <span class="icon-bar"></span>
		            </button>
		            <a class="navbar-brand" href="/">Home</a>
	               </div>
	            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		            <ul class="nav navbar-nav">
			            <li><a href="/upload">Upload file</a></li>
				        <!-- <li><a href="#">View results</a></li> -->
		            </ul>
	            </div>
            </div>
		</div>
        <div id="content">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li class="active"><a href="#summary" data-toggle="tab">Summary</a></li>
              <li><a href="#success" data-toggle="tab">Successful records</a></li>
              <li><a href="#failure" data-toggle="tab">Missed records</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane" id="summary">
                  <dl>
                    <dt>Document name</dt>
                    <dd> {{ document._name }} </dd>
                    <dt>Records found</dt>
                    <dd> {{ document._records_number}} </dd>
                    <dt>Document header</dt>
                    <dd> {{ document._transmission_header._record }} </dd>
                    <dt>Document trailer</dt>
                    <dd> {{ document._transmission_trailer._record }} </dd>
                  </dl>
                </div>
                <div class="tab-pane" id="success">
                {% for transaction in document.transactions.values() %}
                  <li class="list-group-item bg-success">{{ transaction._record }}</li>
                {% endfor %}
                </div>
                <div class="tab-pane" id="failure">
                  <ul class="list-group">
                  {% for error in document.errors.values() %}
                    <li class="list-group-item bg-danger">{{ error }}</li>
                  {% endfor %}
                  </ul>
                </div>
            </div>
        </div>
      </div>
  </body>
</html>